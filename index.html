<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>RIZ HADRAMI</title>

<style>
*{box-sizing:border-box}
body{
    margin:0;
    padding:12px;
    font-family:Tahoma,Arial,sans-serif;
    direction:rtl;
    background:#f4f4f4;
    padding-bottom:78px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ */
}
.container{
    max-width:420px;
    margin:auto;
    background:#fff;
    padding:14px;
    border-radius:18px;
    box-shadow:0 10px 30px rgba(0,0,0,.12);
}
h1{text-align:center;color:#7a2e00;margin:6px 0}
.subtitle{text-align:center;font-size:14px;color:#555}
.note{
    background:#fff3cd;
    padding:10px;
    border-radius:12px;
    font-size:13px;
    margin:12px 0;
    text-align:center;
}

/* âœ… Chef */
.chef{
    display:flex;
    align-items:center;
    gap:10px;
    background:#f9f9f9;
    padding:10px;
    border-radius:14px;
    border:1px solid #eee;
    margin:12px 0;
}
.chef img{
    width:56px;height:56px;
    border-radius:50%;
    object-fit:cover;
    flex-shrink:0;
}
.chef .text{font-size:13px;color:#444;line-height:1.4}

/* âœ… Working hours */
.hours{
    background:#eef6ff;
    padding:10px;
    border-radius:12px;
    font-size:13px;
    margin:12px 0;
    text-align:center;
    border:1px solid #d7e8ff;
}

/* ===== MENU ===== */
.menu{display:flex;flex-direction:column;gap:14px}
.item{border:1px solid #ddd;border-radius:16px;overflow:hidden}
.item img{width:100%;height:150px;object-fit:cover}
.item-content{padding:12px}
.item-title{font-weight:bold}
.item-fr{font-size:13px;color:#666;margin-bottom:6px}
.price{font-size:14px;color:#444;margin-bottom:6px}

/* Counter */
.counter{display:flex;align-items:center;gap:10px}
.counter button{
    width:36px;height:36px;
    font-size:20px;
    border:none;border-radius:10px;
    background:#eee;
}
.counter span{min-width:36px;text-align:center;font-weight:bold}

/* Sections */
.section{
    margin-top:16px;
    padding:12px;
    background:#fafafa;
    border-radius:16px;
    border:1px solid #ddd;
}
.section h3{margin:0 0 6px;font-size:16px}
.section small{color:#666}

/* Inputs */
input, textarea{
    width:100%;
    padding:12px;
    font-size:16px;
    border-radius:12px;
    border:1px solid #ccc;
    margin-top:6px;
}

/* Address FR */
.address input{
    direction:ltr;
    text-align:left;
    font-family:Arial,sans-serif;
}

/* Delivery */
.delivery{display:flex;gap:10px}
.delivery div{
    flex:1;
    padding:12px;
    text-align:center;
    border:2px solid #ddd;
    border-radius:14px;
    cursor:pointer;
}
.delivery .active{
    border-color:#25D366;
    background:#eafff1;
}

/* âœ… Day buttons */
.day-pick{display:flex;gap:10px;margin-top:8px}
.day-pick button{
    flex:1;
    padding:12px;
    border:none;
    border-radius:14px;
    background:#eee;
    font-size:14px;
    cursor:pointer;
}
.day-pick button.active{
    background:#25D366;
    color:#fff;
}

/* Summary */
.summary{
    background:#eef6ff;
    padding:12px;
    border-radius:14px;
    font-size:14px;
}

/* Button */
.order-btn{
    width:100%;
    margin-top:18px;
    padding:16px;
    font-size:18px;
    background:#25D366;
    color:#fff;
    border:none;
    border-radius:16px;
    cursor:pointer;
}

/* âœ… Total bar fixed */
.total-bar{
    position:fixed;
    left:0; right:0; bottom:0;
    background:#25D366;
    color:#fff;
    padding:14px 12px;
    text-align:center;
    font-size:18px;
    font-weight:bold;
    box-shadow:0 -10px 30px rgba(0,0,0,.12);
}

/* Desktop */
@media(min-width:768px){
    .container{max-width:720px}
    .menu{display:grid;grid-template-columns:1fr 1fr}
}
</style>
</head>

<body>
<div class="container">

<h1>ğŸ½ï¸ RIZ HADRAMI</h1>
<div class="subtitle">
Ø·Ø¨Ø® Ø­Ø¶Ø±Ù…ÙŠ Ù…Ù†Ø²Ù„ÙŠ<br>
<small>Cuisine yÃ©mÃ©nite maison</small>
</div>

<!-- âœ… Chef section -->
<div class="chef">
  <img src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=200&q=80" alt="Chef">
  <div class="text">
    <strong>ğŸ‘¨â€ğŸ³ Ø·Ø¨Ø® Ù…Ù†Ø²Ù„ÙŠ â€“ Ø¬ÙˆØ¯Ø© Ø¹Ø§Ø¦Ù„ÙŠØ©</strong><br>
    <small>ğŸ‘¨â€ğŸ³ Fait maison â€“ QualitÃ© familiale</small>
  </div>
</div>

<!-- âœ… Working hours -->
<div class="hours">
  â° Ø§Ù„Ø·Ù„Ø¨Ø§Øª: 10:00 â€“ 18:00<br>
  <small>â° Commandes : 10:00 â€“ 18:00</small><br>
  ğŸš« Ø®Ø§Ø±Ø¬ Ø§Ù„ÙˆÙ‚Øª Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø±Ø¯<br>
  <small>ğŸš« Hors horaires : pas de rÃ©ponse</small>
</div>

<div class="note">
â³ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø­Ø³Ø¨ ØªÙˆÙØ± Ø§Ù„ÙƒÙ…ÙŠØ©<br>
<small>Commandes selon disponibilitÃ©</small>
</div>

<div class="menu">

<div class="item">
<img src="https://images.unsplash.com/photo-1600628422019-1f6c4e7a6f4a">
<div class="item-content">
<div class="item-title">ğŸ— ØµØ§Ù†Ù‡ Ø¯Ø¬Ø§Ø¬</div>
<div class="item-fr">Plateau de poulet</div>
<div class="price">â‚¬12</div>
<div class="counter" data-ar="ğŸ— ØµØ§Ù†Ù‡ Ø¯Ø¬Ø§Ø¬" data-fr="Plateau de poulet" data-price="12">
<button onclick="qty(this,-1)">âˆ’</button>
<span>0</span>
<button onclick="qty(this,1)">+</button>
</div>
</div>
</div>

<div class="item">
<img src="https://images.unsplash.com/photo-1617196034796-73dfa7b1fd56">
<div class="item-content">
<div class="item-title">ğŸ¥© ØµØ§Ù†Ù‡ Ù„Ø­Ù…</div>
<div class="item-fr">Plateau de viande</div>
<div class="price">â‚¬15</div>
<div class="counter" data-ar="ğŸ¥© ØµØ§Ù†Ù‡ Ù„Ø­Ù…" data-fr="Plateau de viande" data-price="15">
<button onclick="qty(this,-1)">âˆ’</button>
<span>0</span>
<button onclick="qty(this,1)">+</button>
</div>
</div>
</div>

</div>

<div class="section">
<h3>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù… / Nom</h3>
<input id="customerName" placeholder="Nom (optionnel)">
</div>

<div class="section">
<h3>ğŸšš Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… / Livraison</h3>
<div class="delivery">
<div onclick="setDelivery(this,'ØªÙˆØµÙŠÙ„','Livraison')">
ğŸšš ØªÙˆØµÙŠÙ„<br><small>Livraison</small>
</div>
<div onclick="setDelivery(this,'Ø§Ø³ØªÙ„Ø§Ù…','Ã€ emporter')">
ğŸ  Ø§Ø³ØªÙ„Ø§Ù…<br><small>Ã€ emporter</small>
</div>
</div>
</div>

<div class="section address" id="addressBox" style="display:none">
<h3>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† / Adresse</h3>
<input id="street" placeholder="Rue et numÃ©ro">
<input id="zip" placeholder="Code postal">
<input id="city" placeholder="Ville">
</div>

<!-- âœ… Day selection + optional date -->
<div class="section">
  <h3>ğŸ“… ÙŠÙˆÙ… Ø§Ù„Ø·Ù„Ø¨ / Jour</h3>
  <small>Ø§Ø®ØªØ± Ø§Ù„ÙŠÙˆÙ… Ø£Ùˆ ØºØ¯Ù‹Ø§ØŒ Ø£Ùˆ Ø¶Ø¹ ØªØ§Ø±ÙŠØ®Ù‹Ø§ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) / Choisissez aujourdâ€™hui, demain ou une date (optionnel)</small>

  <div class="day-pick">
    <button type="button" id="btnToday" onclick="setDay('today')">ğŸ“… Ø§Ù„ÙŠÙˆÙ…<br><small>Aujourdâ€™hui</small></button>
    <button type="button" id="btnTomorrow" onclick="setDay('tomorrow')">ğŸ“… ØºØ¯Ù‹Ø§<br><small>Demain</small></button>
  </div>

  <input type="date" id="orderDate" onchange="update()">
</div>

<div class="section">
<h3>â° ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… / Heure</h3>
<input type="time" id="time">
</div>

<!-- âœ… Customer note -->
<div class="section">
  <h3>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ù„Ø²Ø¨ÙˆÙ† / Note</h3>
  <textarea id="customerNote" rows="3" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø¯ÙˆÙ† Ø­Ø§Ø± / Sans piment"></textarea>
</div>

<div class="section summary">
<h3>ğŸ“‹ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨ / RÃ©capitulatif</h3>
<div id="summary">â€”</div>
</div>

<!-- âœ… confirmation before WhatsApp -->
<button class="order-btn" onclick="confirmSend()">ğŸ“² Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨<br><small>Envoyer sur WhatsApp</small></button>

</div>

<!-- âœ… total bar -->
<div class="total-bar" id="totalBar">ğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ / Total: â‚¬0</div>

<script>
let deliveryAR="", deliveryFR="";
let dayAR="", dayFR=""; // âœ… ÙŠÙˆÙ… Ø§Ù„Ø·Ù„Ø¨

// âœ… Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙŠÙˆÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
setDay('today');

function qty(btn,d){
    let s=btn.parentElement.querySelector("span");
    s.textContent=Math.max(0,Math.min(20,parseInt(s.textContent)+d));
    update();
}

function setDelivery(el,ar,fr){
    deliveryAR=ar; deliveryFR=fr;
    document.querySelectorAll(".delivery div").forEach(d=>d.classList.remove("active"));
    el.classList.add("active");
    addressBox.style.display=ar==="ØªÙˆØµÙŠÙ„"?"block":"none";
    update();
}

// âœ… day function
function setDay(which){
    const t=document.getElementById("btnToday");
    const tm=document.getElementById("btnTomorrow");
    t.classList.remove("active");
    tm.classList.remove("active");

    if(which==="today"){
        dayAR="Ø§Ù„ÙŠÙˆÙ…"; dayFR="Aujourdâ€™hui";
        t.classList.add("active");
    }else{
        dayAR="ØºØ¯Ù‹Ø§"; dayFR="Demain";
        tm.classList.add("active");
    }
    update();
}

function update(){
    let html="", total=0;

    document.querySelectorAll(".counter").forEach(c=>{
        let q=parseInt(c.querySelector("span").textContent);
        if(q>0){
            let p=parseInt(c.dataset.price);
            total+=q*p;
            html+=`â€¢ ${c.dataset.ar} (${c.dataset.fr}) Ã— ${q}<br>`;
        }
    });

    // âœ… Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø§Ø¦Ù…Ù‹Ø§
    totalBar.innerHTML = `ğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ / Total: â‚¬${total}`;

    if(!html){
        summary.innerHTML="â€”";
        return;
    }

    html+=`<hr>ğŸšš ${deliveryAR||"-"} / ${deliveryFR||"-"}<br>`;

    if(deliveryAR==="ØªÙˆØµÙŠÙ„"){
        html+=`ğŸ“ ${street.value||""}, ${zip.value||""} ${city.value||""}<br>`;
    }

    // âœ… ÙŠÙˆÙ… Ø§Ù„Ø·Ù„Ø¨ + ØªØ§Ø±ÙŠØ® Ø§Ø®ØªÙŠØ§Ø±ÙŠ
    const d = document.getElementById("orderDate").value;
    if(d){
        html+=`ğŸ“… ${d} <small>(Date)</small><br>`;
    }else{
        html+=`ğŸ“… ${dayAR||"-"} / ${dayFR||"-"}<br>`;
    }

    if(time.value) html+=`â° ${time.value}<br>`;

    // âœ… Ù…Ù„Ø§Ø­Ø¸Ø©
    const note = document.getElementById("customerNote").value.trim();
    if(note){
        html+=`ğŸ“ ${note}<br>`;
    }

    html+=`<strong>Total: â‚¬${total}</strong>`;
    summary.innerHTML=html;
}

// âœ… Popup confirmation
function confirmSend(){
    const ok = confirm("âœ… Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ØŸ\n\nâœ… Voulez-vous envoyer la commande maintenant sur WhatsApp ?");
    if(ok) send();
}

function send(){
    let msg="Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ğŸŒ¹\n";
    msg+="Bonjour ğŸŒ¹\n\n";

    const customerName = document.getElementById("customerName").value.trim();
    if(customerName){
        msg+=`Ø§Ù„Ø§Ø³Ù… / Nom: ${customerName}\n\n`;
    }

    msg+="Ø§Ù„Ø·Ù„Ø¨ / Commande:\n";
    document.querySelectorAll(".counter").forEach(c=>{
        let q=parseInt(c.querySelector("span").textContent);
        if(q>0){
            msg+=`- ${c.dataset.ar} (${c.dataset.fr}) Ã— ${q}\n`;
        }
    });

    msg+=`\nØ·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… / Mode: ${deliveryAR||"-"} / ${deliveryFR||"-"}\n`;

    if(deliveryAR==="ØªÙˆØµÙŠÙ„"){
        msg+=`Ø§Ù„Ø¹Ù†ÙˆØ§Ù† / Adresse: ${street.value}, ${zip.value} ${city.value}\n`;
    }

    // âœ… ÙŠÙˆÙ… Ø§Ù„Ø·Ù„Ø¨ + ØªØ§Ø±ÙŠØ®
    const d = document.getElementById("orderDate").value;
    if(d){
        msg+=`ÙŠÙˆÙ… Ø§Ù„Ø·Ù„Ø¨ / Date: ${d}\n`;
    }else{
        msg+=`ÙŠÙˆÙ… Ø§Ù„Ø·Ù„Ø¨ / Jour: ${dayAR} / ${dayFR}\n`;
    }

    if(time.value){
        msg+=`ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… / Heure: ${time.value}\n`;
    }

    // âœ… Ù…Ù„Ø§Ø­Ø¸Ø©
    const note = document.getElementById("customerNote").value.trim();
    if(note){
        msg+=`Ù…Ù„Ø§Ø­Ø¸Ø© / Note: ${note}\n`;
    }

    // âœ… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
    let total=0;
    document.querySelectorAll(".counter").forEach(c=>{
        let q=parseInt(c.querySelector("span").textContent);
        if(q>0) total += q*parseInt(c.dataset.price);
    });
    msg+=`\nØ§Ù„Ù…Ø¬Ù…ÙˆØ¹ / Total: â‚¬${total}\n`;

    msg+="\nØ´ÙƒØ±Ø§Ù‹ ğŸ¤\nMerci ğŸ¤";

    location.assign(
        "https://wa.me/33782549043?text="+encodeURIComponent(msg)
    );
}
</script>

</body>
</html>
